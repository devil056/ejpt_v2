- Linux has multi-user support and as a result, multiple users can access the system simultaeneously. This can be seen as both an advantage and disadvantage from a security perspective, in that, multiple accounts offer multiple access vectors for attackers and therefore increase the overall risk of the server
- All of the information for all accounts on Linux is stored in the passwd file located in _/etc/passwd_
- We cannot view the passwords for the users in the passwd file because they are encrypted and the passwd file is readable by any user on the system
- All the encrypted passwords for the users are stored in the shadow file, it can be found in the following directory: _/etc/shadow_
- The shadow file can only be accessed and read by the root account, this is a very important security feature as it prevents other accounts on the system from accessing the hashes passwords
- The shadow file gives us information in regards to the hashing algorithm that is being used and the password hash, this is very helpful as we are able to determine the type of hashing algorithm that is being used and its strength. We can determine this by looking at the number after the username encapsulated by the dollar symbol ($)

Value|Hashing Algo
:--:|:--:
$1|MD5
$2|Blowfish
$5|SHA-256
$6|SHA-512

Lab details : 

- This is terminal based lab with the target system adjacent to our current IP address on the same subnet.
- Perform a quick nmap service version scan and we can see that it is running a FTP on port 21
- Now searchsploit proftpd 1.3.3 and we can see a metasploit module listed so we will goahead and launch the msfconsole once after we start the postgresql and set the global rhost variable.
- use exploit/unix/ftp/proftpd_133c_backdoor module and set the options if any are needed and exploit
- Once we are done we will get the shell non interactive so we will use `/bin/bah -i` to get an interactive shell
- Check the privileges that you have and if you are a root user get the shadow file
- Set the session in background and upgrade the session to meterpreter using the command `sessions -u 1`
- search hashdump and use the post/linux/gather/hashdump and set the session id to the meterpreter session we got and run the module. We get the hash and also the data is stored locally into a text file we can use it as well to check and crack later on
- We can exit from the msfconsole and use the rockyou.txt.gzip and use it as default wordlist for john and hashcat
- In this case we can see that the hashing algo used is SHA-512 and the command we run is `john --format=sha512crypt {hashFilePath} --wordlist={wordlisPath}`
- Using hashcat `hashcat -a3 -m 1800 {hashFilePath} {wordlistsPath}` and the hashed password will be cracked in a few seconds.