- The exploitation and post exploitation phases of a penetration test involves actively engaging with target systems and the data that is stored on these systems
- As a result, you may be required to clear/undo any changes you have made to the target systems you have compromised based on the guidelines specified in the rules of engagement
- If you have transferred any files to the target systems you have compromised, keep track of where they have been saved so that you can remove them when done.
- A good practise is to store all your scripts, exploits and binaries in the C:/Temp directory on Windows and the /tmp directory on Linux
- It is also important to consider the exploitation framework you are using, an example of this is MSF, which is notorious for generating and storing artifacts on the target system when using exploit or post modules
- Some well designed MSF modules provide you with instructions and resource scripts that provide you with information regarding where the artifacts are stored and how they can be removed
- In the context of Windows, a typical post exploitation technique pertinent to clearing your tracks is to delete the Windows Event Log. This is something that should be avoided during a penetration test as the Windows Event Log stores a lot of data that is important to the client you are performing the penetration test for

Lab details:

- It is a GUI based kali instance with a target IP address on the desktop
- Perform a quick nmap scan with service versioning on the target IP
- We can see that it is running a Bablue server on port 80 as we know we already do have got metasploit module to exploit it we will launch the msfconsole
- Once after we set the options of the module we can refer to the all the available options using the `show advanced` command.
- After we run the exploit command we get a meterpreter session check the privileges that you have got access to and the user you are logged in as using the commands `getuid` and `sysinfo`
- Incase if you have got regular user access you might need to perform the privilege escalation on the target system. And now to upgrade your meterpreter to a stable state get the process ID of the explorer and upgrade the session to that particular ID `pgrep explorer` and `migrate {PID}`
- Incase of the post exploitation we can create a persistence service which will upload a binary executable to the target IP Temp folder and create a service and in the terminal we can see the locations of binary file and the Service name that has bee created and in order to delete them a resource script will also be generated incase of the module is much stable. We can launch the resource script using the command `resource {pathToScript}`
- Clearing windows event logs there is an inbuilt command in the meterpreter `clearev` which will clear the entire windows event logs